{% extends "base.html" %}
{% block title %}Records â€” Patient Portal{% endblock %}
{% block content %}
<div class="d-flex justify-content-between mb-3">
  <h4>Medical records</h4>
  <a class="btn btn-outline-primary" href="{% url 'patient:dashboard' %}">Back to dashboard</a>
</div>

<div class="card card-ghost p-3">
  {% if records %}
    <table class="table table-hover align-middle">
      <thead>
        <tr>
          <th>Date</th>
          <th>Type / Code</th>
          <th>Value</th>
          <th>Performer</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        {% for r in records %}
        <tr>
          <td>{{ r.effective_date|date:"Y-m-d H:i" }}</td>
          <td><div class="fw-bold">{{ r.code }}</div><div class="small text-muted record-code">{{ r.id }}</div></td>
          <td>{{ r.value }} {% if r.unit %}{{ r.unit }}{% endif %}</td>
          <td>{{ r.performer }}</td>
          <td><a class="btn btn-sm btn-outline-secondary" href="{% url 'patient:record_detail' r.id %}">View</a></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <div class="text-muted">No medical records found.</div>
  {% endif %}
</div>
{% endblock %}
