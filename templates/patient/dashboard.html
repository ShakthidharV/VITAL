{% extends "base.html" %}
{% block title %}Dashboard ‚Äî Patient Portal{% endblock %}
{% block content %}
<style>
  /* Quick links grid styles */
  .quick-grid {
  display: flex;
  flex-direction: column;
  gap: 0.75rem; /* spacing between items */
}

.card-health {
  background: #f8fffc; /* very light teal background */
  border-left: 5px solid teal;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card-health:hover {
  transform: translateY(-4px);
  box-shadow: 0 6px 16px rgba(0, 128, 128, 0.15);
}

.text-teal {
  color: teal;
  font-weight: 600;
}

.card-health ul li strong {
  color: #008080;
}

.card-health ul li {
  line-height: 1.6;
}



  .quick-item {
    display: flex;
    gap: .75rem;
    align-items: center;
    padding: .65rem;
    border-radius: .65rem;
    background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,250,0.98));
    border: 1px solid rgba(0,0,0,0.04);
    text-decoration: none;
    color: inherit;
    transition: transform .12s ease, box-shadow .12s ease;
  }

  .quick-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.06);
    text-decoration: none;
  }

  .quick-icon {
    width: 42px;
    height: 42px;
    border-radius: 8px;
    background: #f1f7f7;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 42px;
  }

  .quick-title {
    font-weight: 600;
    font-size: .95rem;
  }

  .quick-sub {
    font-size: .78rem;
    color: #6c757d;
  }

  /* make sure the card header stays compact */
  .card-ghost h6 {
    margin-bottom: .5rem;
  }

  @media (min-width: 992px) {
    .quick-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }
</style>

<div class="row">
  <div class="col-lg-4">
    <div class="card card-ghost p-3 mb-3">
      <div class="d-flex align-items-center">
        <div class="avatar me-3">{{ patient.given|slice:":1" }}{{ patient.family|slice:":1" }}</div>
        <div>
            <h5 class="mb-0">{{ patient.given }} {{ patient.family }}</h5>
            <div class="text-muted small">Patient ID: <strong>{{ patient.identifier }}</strong></div>
        </div>
        </div>

      <hr />
      <div class="small">
        <div><strong>Birth:</strong> {{ patient.birth_date|default:"-" }}</div>
        <div><strong>Phone:</strong> {{ patient.phone|default:"-" }}</div>
        <div class="mt-2"><a class="btn btn-sm btn-outline-primary" href="{% url 'patient:profile' %}">Edit profile</a></div>
      </div>
    </div>

    <div class="card card-ghost p-3">
      <h6>Quick links</h6>

      <div class="quick-grid">
        <a class="quick-item" href="{% url 'patient:records' %}" aria-label="Medical records">
          <div class="quick-icon">
            <!-- document icon -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="#008AA3" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M14 2v6h6" stroke="#008AA3" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div>
            <div class="quick-title">Medical records</div>
            <div class="quick-sub">View your records</div>
          </div>
        </a>

        <!-- NEW ENTRY: Vital disease onset risk prediction -->
        <a class="quick-item" href="{% url 'patient:patient_entry_self' %}" aria-label="Vital disease onset risk prediction">
          <div class="quick-icon">
            <!-- heart + pulse icon -->
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20.8 8.6c0 5.1-8.8 11.8-8.8 11.8S3.2 13.7 3.2 8.6A4.1 4.1 0 0 1 7.3 4.5c1.2 0 2.3.6 3 1.6.7-1 1.8-1.6 3-1.6a4.1 4.1 0 0 1 3.5 4.1z" stroke="#e05252" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" fill="rgba(224,82,82,0.06)"/>
              <path d="M9 12l1-2 2 4 1-2h2" stroke="#e05252" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div>
            <div class="quick-title">VITAL Disease Prediction</div>
            <div class="quick-sub">Predict risk of disease onset</div>
          </div>
        </a>
      </div>

      <div class="mt-3 small text-muted">Quick access to frequently used features.</div>
    </div>
  </div>

  <div class="col-lg-8">
    <div class="card card-ghost p-3 mb-3">
      <h5 class="mb-3">Recent observations</h5>
      {% if recent_obs %}
        <div class="list-group">
          {% for r in recent_obs %}
            <a class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" href="{% url 'patient:record_detail' r.id %}">
              <div>
                <div class="fw-bold">{{ r.code }}</div>
                <div class="small text-muted">{{ r.effective_date|date:"M d, Y H:i" }} ‚Äî {{ r.performer }}</div>
              </div>
              <div class="text-end">
                <div class="h6 mb-0">{{ r.value }} {% if r.unit %}{{ r.unit }}{% endif %}</div>
              </div>
            </a>
          {% endfor %}
        </div>
      {% else %}
        <div class="text-muted small">No recent observations.</div>
      {% endif %}
    </div>

    <div class="card card-health p-4 shadow-sm rounded-4">
  <h5 class="text-teal mb-3">üíö Health & Life Care Guidelines</h5>
  <ul class="list-unstyled mb-0">
    <li class="mb-2"><strong>üïí Maintain Routine:</strong> Sleep 7‚Äì8 hours, wake up early, and hydrate first thing in the morning.</li>
    <li class="mb-2"><strong>ü•ó Eat Mindfully:</strong> Include whole grains, greens, fruits, and lean protein. Minimize processed sugar and salt.</li>
    <li class="mb-2"><strong>üèÉ‚Äç‚ôÇÔ∏è Stay Active:</strong> Move daily ‚Äî walk, stretch, or do any activity that keeps your body in motion.</li>
    <li class="mb-2"><strong>üß† Mental Wellness:</strong> Practice mindfulness, journaling, or deep breathing to manage stress effectively.</li>
    <li class="mb-2"><strong>ü©∫ Preventive Care:</strong> Schedule regular health check-ups and stay updated on vaccinations.</li>
    <li class="mb-0"><strong>üí¨ Stay Connected:</strong> Keep in touch with family and friends ‚Äî social bonding improves longevity.</li>
  </ul>
</div>

  </div>
</div>
{% endblock %}
