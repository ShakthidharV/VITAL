{% extends "base.html" %}
{% block title %}Record — Patient Portal{% endblock %}
{% block content %}
<div class="mb-3">
  <a class="btn btn-link" href="{% url 'patient:records' %}">&larr; Back to records</a>
</div>

<div class="card card-ghost p-3">
  <div class="d-flex justify-content-between align-items-start">
    <div>
      <h5 class="mb-1">{{ record.code }}</h5>
      <div class="small text-muted">{{ record.effective_date|date:"M d, Y H:i" }} — {{ record.performer }}</div>
    </div>
    <div class="text-end">
      <div class="h3 mb-0">{{ record.value }} {% if record.unit %}{{ record.unit }}{% endif %}</div>
    </div>
  </div>

  <hr />
  <div>
    <h6>Details</h6>
    <dl class="row small">
      <dt class="col-sm-3">Observation ID</dt><dd class="col-sm-9 record-code">{{ record.id }}</dd>
      <dt class="col-sm-3">Code</dt><dd class="col-sm-9">{{ record.code }}</dd>
      <dt class="col-sm-3">Effective</dt><dd class="col-sm-9">{{ record.effective_date }}</dd>
      <dt class="col-sm-3">Performer</dt><dd class="col-sm-9">{{ record.performer }}</dd>
      <dt class="col-sm-3">Remarks</dt>
        <dd class="col-sm-9">{{ record.remarks|linebreaksbr|default:"—" }}</dd>

      <dt class="col-sm-3">Raw JSON</dt><dd class="col-sm-9"><pre class="small">{{ record|safe }}</pre></dd>
    </dl>
  </div>
</div>
{% endblock %}
